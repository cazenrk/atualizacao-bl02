/* Reseta margens e define um layout de grid para a página inteira */
body {
    display: grid;
    grid-template-columns: auto 1fr; /* Coluna para a barra lateral e o resto */
    grid-template-rows: 1fr auto; /* Linha para o conteúdo e uma para o rodapé */
    grid-template-areas:
        "header main"
        "footer footer";
    height: 100vh;
    margin: 0;
    font-family: sans-serif;
    background-color: #f0f2f5; /* Um cinza claro para o fundo */
}

/* Estiliza a barra de navegação lateral */
header {
    grid-area: header; /* Define a área do grid para o header */
    background-color: white;
    width: 170px; /* Largura da barra lateral */
    padding: 20px;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05); /* Sombra sutil */
    display: flex;
    justify-content: center; /* Centraliza a navegação verticalmente */
}

nav {
    display: flex;
    flex-direction: column; /* Organiza os botões em coluna */
    width: 100%;
}

/* Estilo geral dos botões na navegação */
nav button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    display: flex;
    flex-direction: column; /* Permite empilhar imagem e texto */
    align-items: center;
    font-size: 16px;
    color: #555;
    transition: background-color 0.2s, color 0.2s;
    white-space: nowrap;
}

nav button:hover {
    background-color: #f0f2f5;
    color: #000;
}

/* Estilo específico para o botão Dashboard */
.dashboard-button {
    opacity: 0.8; /* Efeito de transparência */
    transition: opacity 0.2s;
}

.dashboard-button:hover {
    opacity: 1; /* Remove a transparência no hover */
}

.dashboard-button img {
    width: 48px; /* Tamanho do ícone */
    height: 48px;
    margin-bottom: 8px; /* Espaço entre a imagem e o texto */
}

/* Estilo para a área de conteúdo principal */
main {
    grid-area: main; /* Define a área do grid para o main */
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 40px;
    /* overflow-y: auto; Removido para evitar scroll no main */
}

/* Estilo para as seções de conteúdo */
main section {
    width: 90%;
    height: 650px; /* Altura aumentada para as seções */
    background-color: white;
    border-radius: 10px;
    padding: 30px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    /* overflow-y: auto; Removido conforme solicitado */
}

/* Garante que seções com o atributo 'hidden' fiquem de fato escondidas */
main section[hidden] {
    display: none !important; /* Usa !important para garantir a prioridade */
}

/* Layout específico para a seção Moradores */
#moradores .section-header {
    display: flex;
    justify-content: space-between; /* Coloca espaço entre os itens */
    align-items: center;
    margin-bottom: 20px; /* This is the margin that creates the space */
    gap: 20px; /* Adiciona um espaço entre os itens do cabeçalho */
}

#mensalidade .section-header {
    gap: 20px;
    justify-content: space-between;
}

#moradores .search-bar {
    flex-grow: 0; /* Impede que a barra de busca cresça */
    width: 60%; /* Define uma largura menor para o input de pesquisa */
}

#mensalidade .search-bar {
    flex-grow: 0;
    width: 60%;
}

#fluxo-de-caixa .search-bar {
    flex-grow: 0;
    width: 60%;
}

#fluxo-de-caixa .section-header {
    justify-content: space-between;
}

/* --- Estilos da Seção Moradores --- */

.section-header {
    display: flex;
    justify-content: flex-start; /* Alinha a barra de busca à esquerda */
    align-items: center;
    margin-bottom: 20px;
}

.search-bar {
    flex-grow: 1; /* Faz a barra de busca ocupar todo o espaço disponível */
    display: flex;
    align-items: stretch; /* Alinha os itens para terem a mesma altura */
}

.search-bar input {
    padding: 12px; /* Aumenta a altura */
    border: 1px solid #ccc;
    border-radius: 5px 0 0 5px;
    font-size: 1rem;
    outline: none;
    width: 100%; /* Ocupa 100% do espaço disponível */
}

.search-bar input:focus {
    border-color: #007bff;
}

.search-button {
    background-color: #2897e6; /* Azul claro, tom do focus */
    border: 1px solid #2c9cec;
    border-left: none;
    padding: 8px; /* Aumenta a altura para alinhar com o input */
    border-radius: 0 5px 5px 0;
    cursor: pointer;
    display: flex;
    align-items: center;
}

.search-button img {
    width: 24px;
    height: 24px;
}

.add-resident-button {
    background-color: #4CAF50; /* Verde */
    color: white;
    border: none;
    border-radius: 5px;
    padding: 12px 20px; /* Increased horizontal padding */
    cursor: pointer;
    display: flex;
    align-items: center;
    font-size: 1rem;
    font-weight: bold;
    width: 200px;
    justify-content: center;
    white-space: nowrap;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15); /* Increased shadow */
    transition: all 0.2s ease-in-out;
}

.add-resident-button:hover {
    background-color: #45a049;
    transform: translateY(-3px); /* Increased lift */
    box-shadow: 0 6px 12px rgba(0,0,0,0.25); /* Increased shadow on hover */
}

.add-resident-button img {
    width: 20px;
    height: 20px;
    margin-right: 8px;
}

.add-new-resident-button {
    background-color: #4CAF50; /* Verde */
    color: white;
    border: none;
    border-radius: 5px;
    padding: 12px 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    font-size: 1rem;
    font-weight: bold;
    width: 200px;
    justify-content: center;
    white-space: nowrap;
}

.add-new-resident-button:hover {
    background-color: #45a049;
}

.add-new-resident-button img {
    width: 20px;
    height: 20px;
    margin-right: 8px;
}





.table-container {
    flex-grow: 1;
    max-height: 600px; /* Altura aumentada para a tabela */
    overflow-y: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
}

table th, table td {
    padding: 12px 5px 12px 15px; /* top, right, bottom, left */
    text-align: left;
    border-bottom: 1px solid #ddd;
    white-space: nowrap;
}

table thead {
    position: sticky;
    top: 0;
    z-index: 1;
    background-color: #4CAF50; /* Garante que o fundo do cabeçalho seja sólido */
}

table thead tr {
    background-color: #4CAF50; /* Verde */
    color: white;
}

table th {
    font-weight: bold;
    text-align: start; /* Alinha os títulos ao início */
}

/* Define a largura e o alinhamento da coluna Apto. */
table th:first-child,
table td:first-child {
    width: 60px;
    text-align: center; /* Mantém o centro para a primeira coluna */
}

/* Estilo para a coluna de Ações */
table th:last-child,
table td:last-child {
    width: 100px; /* Ajuste a largura conforme necessário */
    text-align: center;
}

/* Estilo para os ícones de ação */
.action-icon {
    width: 30px; /* Aumenta o tamanho do ícone */
    height: 30px; /* Aumenta o tamanho do ícone */
    transition: transform 0.2s ease-in-out; /* Adiciona transição para o efeito de escala */
}

.action-icon:hover {
    transform: scale(1.2); /* Aumenta o ícone em 20% no hover */
    cursor: pointer; /* Adiciona o cursor de ponteiro no hover */
}

.action-icon:first-of-type {
    margin-right: 8px; /* Espaçamento entre os ícones */
}

/* Estilos do Modal (agora Dialog) */
dialog {
    border: 1px solid #888;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    padding: 0; /* Remove o padding padrão do dialog */
}

dialog::backdrop {
    background-color: rgba(0,0,0,0.4);
}

.modal-content {
    background-color: #fefefe;
    padding: 20px;
    border-radius: 10px;
}



/* --- Modal Header Styles --- */

/* Default for headers with Back button (sub-modals) */
.modal-header {
    display: grid;
    grid-template-columns: auto 1fr auto; /* Back | Title | Close */
    align-items: center;
    width: 100%;
    padding: 10px 15px;
    box-sizing: border-box;
    margin-bottom: 15px;
}

.modal-header .back-button {
    grid-column: 1;
    justify-self: start;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #aaa;
    transition: color 0.2s;
}

.modal-header h2 {
    grid-column: 2;
    text-align: center;
    margin: 0;
    font-size: 1.4rem;
}

.modal-header .close-button {
    grid-column: 3;
    justify-self: end;
    background: none;
    border: none;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    color: #aaa;
    line-height: 1;
    transition: color 0.2s, transform 0.2s;
}

.modal-header .back-button:hover {
    color: #333;
}

.modal-header .close-button:hover,
.modal-header .close-button:focus {
    color: red;
    transform: scale(1.2);
}



.modal-content h2 {
    text-align: center;
    color: #333;
}

.modal-content form label {
    display: block;
    margin-bottom: 5px;
    color: #555;
    font-weight: bold;
}

.modal-content form input[type="text"],
.modal-content form input[type="email"] {
    width: calc(100% - 24px); /* Largura total menos padding */
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box; /* Adicionado para incluir padding e borda na largura */
}

.modal-content form button[type="submit"] {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    display: block; /* Ocupa a largura total */
    width: 100%;
    margin-top: 20px;
    transition: background-color 0.2s;
}

.modal-content form button[type="submit"]:hover {
    background-color: #45a049;
}





/* Estilo para o rodapé */
footer {
    grid-area: footer; /* Define a área do grid para o footer */
    background-color: white;
    padding: 1rem;
    text-align: center;
    color: rgba(0, 0, 0, 0.65); /* Preto com 65% de opacidade */
    font-size: 1rem;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
}

/* Keyframes para animação de fade-in */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Keyframes para animação de fade-out */
@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* Classes para aplicar as animações */
.fade-in {
    animation: fadeIn 0.3s ease-out forwards;
}

.fade-out {
    animation: fadeOut 0.3s ease-out forwards;
}

/* Estilos para o modal de edição de morador */
#residentModal, #addMensalidadeModal {
    width: 650px; /* Largura do modal */
    max-width: 95vw;
    border-radius: 10px;
    padding: 0;
}

/* Estilos para a mensagem de erro do apartamento */
.error-message {
    color: red;
    font-size: 0.85em;
    margin-top: -10px; /* Ajusta a margem para ficar mais próximo do input */
    margin-bottom: 10px;
    display: block; /* Garante que ocupe sua própria linha */
}

/* Estilo para o input quando inválido */
.invalid-input {
    border: 1px solid red !important;
}




/* Estilos para os modais de lançamento (Aprimorado) */
#mensalidade-modal .modal-content,
#salao-festa-modal .modal-content,
#taxa-elevador-modal .modal-content,
#taxa-agua-modal .modal-content,
#reciclagem-modal .modal-content,
#outros-modal .modal-content {
    width: 800px; /* Mantém a largura do modal */
    max-width: 95vw; /* Garante que não exceda a largura da viewport em telas menores */
    max-height: 470px; /* Ajusta a altura máxima para tentar evitar scroll */
    padding: 25px;    /* Diminui o espaçamento interno */
}

#mensalidade-modal h3,
#salao-festa-modal h3,
#taxa-elevador-modal h3,
#taxa-agua-modal h3,
#reciclagem-modal h3,
#outros-modal h3 {
    text-align: center;
    font-size: 1.5rem; /* Diminui o tamanho da fonte do título */
    margin-bottom: 15px;
}

#mensalidade-modal form label,
#salao-festa-modal form label,
#taxa-elevador-modal form label,
#taxa-agua-modal form label,
#reciclagem-modal form label,
#outros-modal form label {
    font-size: 1rem; /* Diminui a fonte dos rótulos */
    margin-bottom: 5px;
}

#mensalidade-modal form input,
#mensalidade-modal form select,
#salao-festa-modal form input,
#salao-festa-modal form select,
#taxa-elevador-modal form input,
#taxa-elevador-modal form select,
#taxa-agua-modal form input,
#taxa-agua-modal form select,
#reciclagem-modal form input,
#reciclagem-modal form select,
#outros-modal form input,
#outros-modal form select {
    width: calc(100% - 20px); /* Ajusta a largura dos inputs com o novo padding */
    padding: 8px;
    font-size: 0.95rem;
    margin-bottom: 10px;
    border: 1px solid #ddd; /* Adiciona borda padrão */
    box-sizing: border-box; /* Adicionado para incluir padding e borda na largura */
}

#mensalidade-modal form input:focus,
#mensalidade-modal form select:focus,
#salao-festa-modal form input:focus,
#salao-festa-modal form select:focus,
#taxa-elevador-modal form input:focus,
#taxa-elevador-modal form select:focus,
#taxa-agua-modal form input:focus,
#taxa-agua-modal form select:focus,
#reciclagem-modal form input:focus,
#reciclagem-modal form select:focus,
#outros-modal form input:focus,
#outros-modal form select:focus {
    border-color: #007bff; /* Borda mais escura ao focar */
    outline: none; /* Remove o outline padrão do navegador */
}

#mensalidade-modal form button[type="submit"],
#salao-festa-modal form button[type="submit"],
#taxa-elevador-modal form button[type="submit"],
#taxa-agua-modal form button[type-="submit"],
#reciclagem-modal form button[type="submit"],
#outros-modal form button[type="submit"],
#addMensalidadeModal form button[type="submit"] {
    padding: 10px;
    font-size: 1rem;
    margin-top: 15px;
}



/* Estilos para o select customizado */
.custom-select-wrapper {
    position: relative;
    width: 100%;
}

.custom-select-input {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 0.95rem;
    box-sizing: border-box;
}

.custom-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: white;
    border: 1px solid #ddd;
    border-top: none;
    border-radius: 0 0 4px 4px;
    max-height: 150px;
    overflow-y: auto;
    z-index: 10;
}

.custom-select-options div {
    padding: 8px;
    cursor: pointer;
}

.custom-select-options div:hover {
    background-color: #f0f2f5;
}

.competencia-selects {
    display: flex;
    gap: 10px; /* Espaço entre os seletores */
    margin-bottom: 10px;
}

.competencia-item {
    flex: 1; /* Cada item ocupa metade do espaço disponível */
    display: flex;
    flex-direction: column; /* Empilha label e select */
}

.competencia-item label {
    margin-bottom: 0px !important; /* Remove a margem inferior padrão da label e força a remoção */
}

.competencia-item select {
    width: calc(100% - 20px); /* Garante que o select preencha o flex item, ajustando para padding/border */
    box-sizing: border-box; /* Inclui padding e borda na largura */
    margin-bottom: 0px !important; /* Remove a margem inferior padrão e força a remoção */
}



/* Estilos para o formulário de adicionar mensalidade */
.add-mensalidade-form input,
.add-mensalidade-form select {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
}

.add-mensalidade-form .competencia-selects {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.add-mensalidade-form .competencia-item {
    flex: 1;
}

.add-mensalidade-form .competencia-item select {
    margin-bottom: 0;
}
